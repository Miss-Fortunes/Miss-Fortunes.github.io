<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="生活,思考,娱乐,静静"><meta name="description" content="一杯茶，一包烟，一个参数传一天"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Python 高级 | Miss-Fortune</title><meta name="generator" content="hexo-theme-ayer"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/dist/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"><link rel="stylesheet" href="/css/custom.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><style>.github-badge{display:inline-block;border-radius:4px;text-shadow:none;font-size:12px;color:#fff;line-height:15px;background-color:#abbac3;margin-bottom:5px}.github-badge .badge-subject{display:inline-block;background-color:#4d4d4d;padding:4px 4px 4px 6px;border-top-left-radius:4px;border-bottom-left-radius:4px}.github-badge .badge-value{display:inline-block;padding:4px 6px 4px 4px;border-top-right-radius:4px;border-bottom-right-radius:4px}.github-badge .bg-brightgreen{background-color:#4dc820!important}.github-badge .bg-cyan{background-color:#008b8b!important}.github-badge .bg-orange{background-color:orange!important}.github-badge .bg-yellow{background-color:#d8b024!important}.github-badge .bg-blueviolet{background-color:#8833d7!important}.github-badge .bg-pink{background-color:#f26bae!important}.github-badge .bg-red{background-color:#e05d44!important}.github-badge .bg-black{background-color:#000!important}.github-badge .bg-blue{background-color:#007ec6!important}.github-badge .bg-lightgrey{background-color:#9f9f9f!important}.github-badge .bg-gray,.github-badge .bg-grey{background-color:#555!important}.github-badge .bg-lightgray,.github-badge .bg-lightgrey{background-color:#9f9f9f!important}</style><script src="/js/jquery-2.0.3.min.js"></script><link rel="alternate" href="/atom.xml" title="Miss-Fortune" type="application/atom+xml"></head><script type="text/javascript">var titleTime,OriginTitle=document.title;document.addEventListener("visibilitychange",function(){"http://192.168.0.121:4000"==location.href&&"https://wyxrelove.gitee.io/"==location.href&&"https://miss-fortunes.github.io/"==location.href||(document.hidden?(document.title="/(ㄒoㄒ)/你弄丢了Miss-Fortunes",clearTimeout(titleTime)):(document.title="(ฅ>ω<*ฅ) 噫又好啦~"+OriginTitle,titleTime=setTimeout(function(){document.title=OriginTitle},2e3)))})</script></html><body><div id="app"><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/firework.js"></script><canvas id="evanyou-canvas" style="opacity:.3;position:fixed;top:0;left:0;z-index:-1;width:100%;height:100%;pointer-events:none"></canvas><script src="/js/evanyou_canvas.js"></script><main class="content on"><section class="outer"><article id="post-python/2.python高级" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title sea-center" style="border-left:0" itemprop="name">Python 高级</h1></header><div class="article-meta"><a href="/2020/08/25/python/2.python%E9%AB%98%E7%BA%A7/" class="article-date"><time datetime="2020-08-25T02:52:10.189Z" itemprop="datePublished">2020-08-25</time></a><div class="article-category"><a class="article-category-link" href="/categories/Python/">Python</a></div><div class="word_count"><span class="post-time"><span class="post-meta-item-icon"><i class="ri-quill-pen-line"></i> <span class="post-meta-item-text">字数统计:</span> <span class="post-count">2.7k</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="ri-book-open-line"></i> <span class="post-meta-item-text">阅读时长≈</span> <span class="post-count">13 分钟</span></span></span></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><h1 id="Python-高级"><a href="#Python-高级" class="headerlink" title="Python 高级"></a>Python 高级</h1><h2 id="转载雪狐96博客"><a href="#转载雪狐96博客" class="headerlink" title="转载雪狐96博客"></a>转载雪狐96博客</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ friendLinks = [雪狐96博客链接](https://www.xuehu96.com/)</span><br></pre></td></tr></table></figure><ul><li><a href="https://www.xuehu96.com/" target="_blank" rel="noopener">查看雪狐96博客</a></li><li><a href="https://www.xuehu96.com/" target="_blank" rel="noopener">https://www.xuehu96.com/</a></li></ul><h2 id="和-is"><a href="#和-is" class="headerlink" title="== 和 is"></a>== 和 is</h2><blockquote><p>== 判断值是否相等 ， is判断是否指向的是一个东西</p></blockquote><h2 id="深拷贝-浅拷贝"><a href="#深拷贝-浅拷贝" class="headerlink" title="深拷贝 浅拷贝"></a>深拷贝 浅拷贝</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">c = copy.deepcopy(a) <span class="comment"># 完成深拷贝</span></span><br><span class="line"></span><br><span class="line">如果c是引用，引用指向的内容也拷贝（递归）</span><br><span class="line"></span><br><span class="line">c = copy.copy(a) <span class="comment"># 比deep浅</span></span><br><span class="line"></span><br><span class="line">判断是否是可变类型，如果是不可变类型，不copy，如果是可变类型，只copy一层</span><br></pre></td></tr></table></figure><h2 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bin(<span class="number">18</span>)<span class="comment">#0b  </span></span><br><span class="line">oct(<span class="number">18</span>)<span class="comment">#0o  </span></span><br><span class="line">hex(<span class="number">18</span>)<span class="comment">#0x  </span></span><br><span class="line"></span><br><span class="line">int(<span class="string">"0x12"</span>,<span class="number">16</span>) <span class="comment">#到10进制</span></span><br></pre></td></tr></table></figure><h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`&amp; | ^  ~ &lt;&lt; &gt;&gt;`</span><br></pre></td></tr></table></figure><h2 id="私有化"><a href="#私有化" class="headerlink" title="私有化"></a>私有化</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- `xx` 公有变量</span><br><span class="line">- `_xx` 单下划线 进制<span class="keyword">from</span> xx <span class="keyword">import</span> * ，类对象和子类可以访问</span><br><span class="line">- `__xx` 避免和子类命名冲突，子类访问不到（名字重整）</span><br><span class="line">- `__xx__` 魔法对象或属性</span><br><span class="line">- `xx_` 避免和python关键字冲突</span><br></pre></td></tr></table></figure><h2 id="property-属性"><a href="#property-属性" class="headerlink" title="property (属性)"></a>property (属性)</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">       self.__num = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setNum</span><span class="params">(self, newNum)</span>:</span></span><br><span class="line">        print(<span class="string">"----setter----"</span>)</span><br><span class="line">        self.__num = newNum</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNum</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"----getter----"</span>)</span><br><span class="line">        <span class="keyword">return</span> self.__num</span><br><span class="line"></span><br><span class="line">    num = property(getNum, setNum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t = Test()</span><br><span class="line"><span class="comment">#print(t.__num)</span></span><br><span class="line"><span class="comment">#t.__num = 200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print(t.getNum())</span></span><br><span class="line"><span class="comment">#t.setNum(50)</span></span><br><span class="line"><span class="comment">#print(t.getNum())</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"-"</span>*<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">t.num = <span class="number">200</span> <span class="comment">#相当于调用了 t.setNum(200)</span></span><br><span class="line"></span><br><span class="line">print(t.num) <span class="comment">#相当于调用了 t.getNum()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#注意点:</span></span><br><span class="line"><span class="comment">#t.num 到底是调用getNum()还是setNum(),要根据实际的场景来判断,</span></span><br><span class="line"><span class="comment">#1. 如果是给t.num赋值 那么一定调用setNum()</span></span><br><span class="line"><span class="comment">#2. 如果是获取t.num的值,那么就一定调用getNum()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#property的作用:相当于把方法进行了封装, 开发者在对属性设置数据的时候更方便</span></span><br><span class="line"></span><br><span class="line">=================================================</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">       self.__num = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">num</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"----getter----"</span>)</span><br><span class="line">        <span class="keyword">return</span> self.__num</span><br><span class="line"></span><br><span class="line"><span class="meta">    @num.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">num</span><span class="params">(self, newNum)</span>:</span></span><br><span class="line">        print(<span class="string">"----setter----"</span>)</span><br><span class="line">        self.__num = newNum</span><br><span class="line"></span><br><span class="line">t = Test()</span><br><span class="line"></span><br><span class="line">t.num = <span class="number">200</span> <span class="comment">#相当于调用了 t.setNum(200)</span></span><br><span class="line"></span><br><span class="line">print(t.num) <span class="comment">#相当于调用了 t.getNum()</span></span><br></pre></td></tr></table></figure><h2 id="import导入模块"><a href="#import导入模块" class="headerlink" title="import导入模块"></a>import导入模块</h2><blockquote><p>搜索路径： sys.path</p></blockquote><p>添加路径 sys.path.append(“/home”)</p><h3 id="重新导入"><a href="#重新导入" class="headerlink" title="重新导入"></a>重新导入</h3><p>在程序没退出的情况下 修改模块 新功能不能展示</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> imp <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">reload(test)</span><br></pre></td></tr></table></figure><h3 id="循环导入"><a href="#循环导入" class="headerlink" title="循环导入"></a>循环导入</h3><h2 id="设计一个总模块，分别调用各个模块，防止之间的相互调用，造成循环"><a href="#设计一个总模块，分别调用各个模块，防止之间的相互调用，造成循环" class="headerlink" title="设计一个总模块，分别调用各个模块，防止之间的相互调用，造成循环"></a>设计一个总模块，分别调用各个模块，防止之间的相互调用，造成循环</h2><h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>可迭代对象：</p><ul><li>list tuple dict set str</li><li>generator （生成器）</li></ul><hr><h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">w1</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">"--装饰--"</span>)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@w1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    prinf(<span class="string">"----f1-----"</span>)</span><br><span class="line"></span><br><span class="line">f1()</span><br></pre></td></tr></table></figure><h3 id="对有参数的函数装饰"><a href="#对有参数的函数装饰" class="headerlink" title="对有参数的函数装饰"></a>对有参数的函数装饰</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">w1</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(a,b)</span>:</span> <span class="comment">#如果没有ab 会调用失败</span></span><br><span class="line">        print(<span class="string">"--执行前装饰--"</span>)</span><br><span class="line">        func(a,b)</span><br><span class="line">        print(<span class="string">"--执行后装饰--"</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@w1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(a,b)</span>:</span> <span class="comment"># 如果函数需要两个参数</span></span><br><span class="line">    prinf(<span class="string">"----f1-%d-%d---"</span>%(a,b))</span><br><span class="line"></span><br><span class="line">f1()</span><br></pre></td></tr></table></figure><p>参数改为<em>args,*</em>kwargs</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">w1</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span> </span><br><span class="line">        print(<span class="string">"--执行前装饰--"</span>)</span><br><span class="line">        func(*args,**kwargs)</span><br><span class="line">        print(<span class="string">"--执行后装饰--"</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@w1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(a,b)</span>:</span> </span><br><span class="line">    prinf(<span class="string">"----f1-%d-%d---"</span>%(a,b))</span><br><span class="line"></span><br><span class="line">f1()</span><br></pre></td></tr></table></figure><h3 id="通用装饰器"><a href="#通用装饰器" class="headerlink" title="通用装饰器"></a>通用装饰器</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">w1</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func_in</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">        ret = func(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> func_in</span><br><span class="line"></span><br><span class="line"><span class="meta">@w1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h3 id="带有参数的装饰器"><a href="#带有参数的装饰器" class="headerlink" title="带有参数的装饰器"></a>带有参数的装饰器</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func_arg</span><span class="params">(arg)</span></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">w1</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">func_in</span><span class="params">()</span>:</span></span><br><span class="line">            ret = func()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> func_in</span><br><span class="line">    <span class="keyword">return</span> w1</span><br><span class="line"></span><br><span class="line"><span class="meta">@func_arg("heihei")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><hr><h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><ul><li>globals</li><li>locals</li></ul><h3 id="LEGB"><a href="#LEGB" class="headerlink" title="LEGB"></a>LEGB</h3><blockquote><p>locals -&gt; enclosing function -&gt; globals -&gt; builtins</p></blockquote><ul><li>局部变量</li><li>闭包外面的</li><li>全局</li><li>内建</li></ul><h2 id="动态绑定"><a href="#动态绑定" class="headerlink" title="动态绑定"></a>动态绑定</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> types</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self.newName)</span>:</span></span><br><span class="line">        self.name = newName</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">p1.eat = types.MethhodType(eat,p1)</span><br><span class="line">p1.run()</span><br></pre></td></tr></table></figure><h3 id="slots"><a href="#slots" class="headerlink" title="slots"></a>slots</h3><p><strong>slots</strong> = (“name”,”age”) # 限定</p><hr><h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><blockquote><p>把计算每个元素的方式保存了，不会马上生成，节省了内存</p></blockquote><ol><li>把列表生成式的中括号改成小括号<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">b = (x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line">next(b) <span class="comment">#0</span></span><br><span class="line">next(b) <span class="comment">#2</span></span><br><span class="line">next(b) <span class="comment">#4</span></span><br><span class="line"></span><br><span class="line">b.__next__() <span class="comment">#和上面一样</span></span><br></pre></td></tr></table></figure></li><li>写一个函数 加上yield</li></ol><ul><li>yield的返回值是send的内容<blockquote><p>第一次调用需要传none或者先用next</p></blockquote></li></ul><h3 id="生成器完成多任务"><a href="#生成器完成多任务" class="headerlink" title="生成器完成多任务"></a>生成器完成多任务</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"---111---"</span>)</span><br><span class="line">        <span class="keyword">yield</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"---222---"</span>)</span><br><span class="line">        <span class="keyword">yield</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">t1 = test1()</span><br><span class="line">t2 = test2()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    t1.__next__()</span><br><span class="line">    t2.__next__()</span><br></pre></td></tr></table></figure><h1 id="python-多任务"><a href="#python-多任务" class="headerlink" title="python 多任务"></a>python 多任务</h1><h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#ret==0子进程  else父进程</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># windows 没有fork函数</span></span><br><span class="line">pid = os.fork()</span><br><span class="line">os.getpid()</span><br><span class="line">os.getppid()</span><br></pre></td></tr></table></figure><h2 id="在windows上可以用的fork"><a href="#在windows上可以用的fork" class="headerlink" title="在windows上可以用的fork"></a>在windows上可以用的fork</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#子进程需要执行的代码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_proc</span><span class="params">(name)</span>:</span></span><br><span class="line">    print(<span class="string">"---子进程---"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    print(<span class="string">'父进程'</span>)</span><br><span class="line">    p = Process(target=run_proc,args=(<span class="string">'test'</span>,))</span><br><span class="line">    print(<span class="string">'子进程将要执行'</span>)</span><br><span class="line">    p.start() </span><br><span class="line">    p.join() <span class="comment"># 等待子进程</span></span><br><span class="line">    print(<span class="string">'子程序结束'</span>)</span><br></pre></td></tr></table></figure><h2 id="进程间通信"><a href="#进程间通信" class="headerlink" title="进程间通信"></a>进程间通信</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line">q = Queue(<span class="number">3</span>) <span class="comment"># 不填3就是无限大</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#把q当成参数传入创建进程的函数</span></span><br><span class="line">p = Process(target=write,arg=(q,))</span><br><span class="line"></span><br><span class="line">q.qsize() <span class="comment">#0</span></span><br><span class="line"></span><br><span class="line">q.put(<span class="string">'haha'</span>) </span><br><span class="line">q.qsize() <span class="comment">#1</span></span><br><span class="line"></span><br><span class="line">q.get() <span class="comment"># 取出添加的第一个</span></span><br><span class="line"></span><br><span class="line">q.empty()</span><br><span class="line">q.full()</span><br><span class="line"></span><br><span class="line">q.get_nowait() <span class="comment"># 如果为空 报异常（放在try里面）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------</span></span><br><span class="line">如果是进程池之间通信 应该使用</span><br><span class="line">q.Manager().Queue()</span><br><span class="line">po = Pool()</span><br><span class="line">po.apply(writer,(q,))</span><br><span class="line">po.close()</span><br><span class="line">po.join()</span><br></pre></td></tr></table></figure><h2 id="process子类"><a href="#process子类" class="headerlink" title="process子类"></a>process子类</h2><ul><li>调父类init</li><li>重写process的run方法</li></ul><h2 id="进程池-Pool"><a href="#进程池-Pool" class="headerlink" title="进程池 Pool"></a>进程池 Pool</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">worker</span><span class="params">(msg)</span>:</span></span><br><span class="line">    print(msg)</span><br><span class="line"></span><br><span class="line">po = Pool(<span class="number">3</span>) <span class="comment"># 定义一个进程池 最大是3</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="comment">#po.apply_async(要调用的目标,（传递的参数元组,）)</span></span><br><span class="line">    <span class="comment">#每次循环警徽用空闲出来的进程去调用目标</span></span><br><span class="line">    po.apply_async(worker(i,))<span class="comment"># 非堵塞</span></span><br><span class="line">    po.apply(worker(i,))<span class="comment"># 堵塞 几乎不用</span></span><br><span class="line"></span><br><span class="line">po.close() <span class="comment"># 关闭进程池，不能添加新的任务</span></span><br><span class="line">po.join() <span class="comment">#主进程等待进程池中执行完才结束</span></span><br></pre></td></tr></table></figure><hr><h2 id="线程-Thread"><a href="#线程-Thread" class="headerlink" title="线程 Thread"></a>线程 Thread</h2><blockquote><p>底层 Thread模块 threading模块对Thread包装</p></blockquote><ol><li>函数<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sayAaa</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"aaa"</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ = <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        t = threading.Thread(target=sayAaa)</span><br><span class="line">        t.start()</span><br></pre></td></tr></table></figure></li><li>类<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span><span class="params">(threading.Thread)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            msg = <span class="string">'I am '</span>+self.name+<span class="string">' @ '</span>+str(i)</span><br><span class="line">            print(msg)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__  == <span class="string">'__main__'</span>:</span><br><span class="line">    t = MyThread()</span><br><span class="line">    t.start()</span><br></pre></td></tr></table></figure></li></ol><h3 id="线程之间共享全局变量"><a href="#线程之间共享全局变量" class="headerlink" title="线程之间共享全局变量"></a>线程之间共享全局变量</h3><h2 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread, Lock</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">g_num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> g_num</span><br><span class="line">    <span class="comment">#这个线程和ｔｅｓｔ2线程都在抢着　对这个锁　进行上锁，如果有１方成功的上锁，那么导致另外</span></span><br><span class="line">    <span class="comment">#一方会堵塞（一直等待）到这个锁被解开为止</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000000</span>):</span><br><span class="line">        mutex.acquire()</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">        mutex.release()<span class="comment">#用来对mutex指向的这个锁　进行解锁，，，只要开了锁，那么接下来会让所有因为</span></span><br><span class="line">                    <span class="comment">#这个锁　被上了锁　而堵塞的线程　进行抢着上锁</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">"---test1---g_num=%d"</span>%g_num)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> g_num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000000</span>):</span><br><span class="line">        mutex.acquire()</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">        mutex.release()</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"---test2---g_num=%d"</span>%g_num)</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一把互斥锁，这个锁默认是没有上锁的</span></span><br><span class="line">mutex = Lock()</span><br><span class="line"></span><br><span class="line">p1 = Thread(target=test1)</span><br><span class="line">p1.start()</span><br><span class="line"></span><br><span class="line"><span class="comment">#time.sleep(3) #取消屏蔽之后 再次运行程序，结果会不一样，，，为啥呢？</span></span><br><span class="line"></span><br><span class="line">p2 = Thread(target=test2)</span><br><span class="line">p2.start()</span><br><span class="line"></span><br><span class="line">print(<span class="string">"---g_num=%d---"</span>%g_num)</span><br></pre></td></tr></table></figure><h2 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Lock</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task1</span><span class="params">(Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> lock1.acquire():</span><br><span class="line">                print(<span class="string">"------Task 1 -----"</span>)</span><br><span class="line">                sleep(<span class="number">0.5</span>)</span><br><span class="line">                lock2.release()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task2</span><span class="params">(Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> lock2.acquire():</span><br><span class="line">                print(<span class="string">"------Task 2 -----"</span>)</span><br><span class="line">                sleep(<span class="number">0.5</span>)</span><br><span class="line">                lock3.release()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task3</span><span class="params">(Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> lock3.acquire():</span><br><span class="line">                print(<span class="string">"------Task 3 -----"</span>)</span><br><span class="line">                sleep(<span class="number">0.5</span>)</span><br><span class="line">                lock1.release()</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用Lock创建出的锁默认没有“锁上”</span></span><br><span class="line">lock1 = Lock()</span><br><span class="line"><span class="comment">#创建另外一把锁，并且“锁上”</span></span><br><span class="line">lock2 = Lock()</span><br><span class="line">lock2.acquire()</span><br><span class="line"><span class="comment">#创建另外一把锁，并且“锁上”</span></span><br><span class="line">lock3 = Lock()</span><br><span class="line">lock3.acquire()</span><br><span class="line"></span><br><span class="line">t1 = Task1()</span><br><span class="line">t2 = Task2()</span><br><span class="line">t3 = Task3()</span><br><span class="line"></span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br><span class="line">t3.start()</span><br></pre></td></tr></table></figure><h2 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建全局ThreadLocal对象:</span></span><br><span class="line">local_school = threading.local()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_student</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 获取当前线程关联的student:</span></span><br><span class="line">    std = local_school.student</span><br><span class="line">    print(<span class="string">'Hello, %s (in %s)'</span> % (std, threading.current_thread().name))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_thread</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="comment"># 绑定ThreadLocal的student:</span></span><br><span class="line">    local_school.student = name</span><br><span class="line">    process_student()</span><br><span class="line"></span><br><span class="line">t1 = threading.Thread(target= process_thread, args=(<span class="string">'dongGe'</span>,), name=<span class="string">'Thread-A'</span>)</span><br><span class="line">t2 = threading.Thread(target= process_thread, args=(<span class="string">'老王'</span>,), name=<span class="string">'Thread-B'</span>)</span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br></pre></td></tr></table></figure><h2 id="异步、回调"><a href="#异步、回调" class="headerlink" title="异步、回调"></a>异步、回调</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"---进程池中的进程---pid=%d,ppid=%d--"</span>%(os.getpid(),os.getppid()))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        print(<span class="string">"----%d---"</span>%i)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hahah"</span> <span class="comment">#返回给了父进程</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span><span class="params">(args)</span>:</span></span><br><span class="line">    print(<span class="string">"---callback func--pid=%d"</span>%os.getpid()) <span class="comment">#是父进程做的</span></span><br><span class="line">    print(<span class="string">"---callback func--args=%s"</span>%args)</span><br><span class="line"></span><br><span class="line">pool = Pool(<span class="number">3</span>)</span><br><span class="line">pool.apply_async(func=test,callback=test2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#异步的理解：主进程正在做某件事情，突然　来了一件更需要立刻去做的事情，</span></span><br><span class="line"><span class="comment">#那么这种，在父进程去做某件事情的时候　并不知道是什么时候去做，的模式　就称为异步</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">"----主进程-pid=%d----"</span>%os.getpid())</span><br></pre></td></tr></table></figure><h2 id="GIL"><a href="#GIL" class="headerlink" title="GIL"></a>GIL</h2><blockquote><p>Python的线程是假的<br>解决方式： 用C语言写</p></blockquote><p>loop.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DeadLoop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.py</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ctypes <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载动态库</span></span><br><span class="line">lib = cdll.LoadLibrary(<span class="string">"./libdeadloop.so"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个子线程，让其执行ｃ语言编写的函数，此函数是一个死循环</span></span><br><span class="line">t = Thread(target=lib.DeadLoop)</span><br><span class="line">t.start()</span><br><span class="line"></span><br><span class="line"><span class="comment">#主线程，也调用ｃ语言编写的那个死循环函数</span></span><br><span class="line"><span class="comment">#lib.DeadLoop()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>gcc xxx.c -shared -o libxxxx.so</p><hr><h1 id="python3网络编程"><a href="#python3网络编程" class="headerlink" title="python3网络编程"></a>python3网络编程</h1><h2 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h2><ul><li>应用层 （应用层 表示层 会话层）</li><li>传输层 TCP UDP</li><li>网络层 IP ICMP ARP RARP</li><li>链路层（物理层 数据链路层）</li></ul><p>端口号：0-65535<br>知名端口0-1023<br>动态端口1024-65535</p><h4 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h4><ul><li>0和255不能用（0网络号 255广播）</li><li>D类多播</li></ul><blockquote><p>参考资料:<a href="http://www.runoob.com/python3/python3-socket.html" target="_blank" rel="noopener">菜鸟教程</a></p></blockquote><p>socket函数创建<br><code>socket.socket([family[, type[, proto]]])</code></p><ul><li>family: 套接字家族可以使AF_UNIX或者AF_INET</li><li>type: 套接字类型可以根据是面向连接的还是非连接分为SOCK_STREAM或SOCK_DGRAM</li><li>protocol: 一般不填默认为0.</li></ul><p>例如:<br><code>socket.socket(socket.AF_INET, socket.SOCK_STREAM)</code></p><h3 id="server-TCP"><a href="#server-TCP" class="headerlink" title="server TCP"></a>server TCP</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment"># 文件名：server.py</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="comment"># 创建 socket 对象</span></span><br><span class="line">serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 获取本地主机名</span></span><br><span class="line">host = socket.gethostname()</span><br><span class="line">port = <span class="number">9999</span></span><br><span class="line"><span class="comment"># 绑定端口号</span></span><br><span class="line">serversocket.bind((host, port))</span><br><span class="line"><span class="comment"># 设置最大连接数，超过后排队</span></span><br><span class="line">serversocket.listen(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># 建立客户端连接</span></span><br><span class="line">    clientsocket, addr = serversocket.accept()</span><br><span class="line">    print(<span class="string">"连接地址: %s"</span> % str(addr))</span><br><span class="line">    msg = <span class="string">'欢迎访问菜鸟教程！'</span> + <span class="string">"\r\n"</span></span><br><span class="line">    clientsocket.send(msg.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    clientsocket.close()</span><br></pre></td></tr></table></figure><h3 id="client-TCP"><a href="#client-TCP" class="headerlink" title="client TCP"></a>client TCP</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment"># 文件名：client.py</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建 socket 对象</span></span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 获取本地主机名</span></span><br><span class="line">host = socket.gethostname()</span><br><span class="line">port = <span class="number">9999</span><span class="comment"># 设置端口号</span></span><br><span class="line">s.connect((host, port))<span class="comment"># 连接服务，指定主机和端口</span></span><br><span class="line"></span><br><span class="line">msg = s.recv(<span class="number">1024</span>) <span class="comment"># 接收小于 1024 字节的数据</span></span><br><span class="line">s.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (msg.decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure><h3 id="UDP-server"><a href="#UDP-server" class="headerlink" title="UDP server"></a>UDP server</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> </span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line">s.bind((<span class="string">"127.0.0.1"</span>, <span class="number">6000</span>))</span><br><span class="line">print(<span class="string">"UDP bound on port 6000..."</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    print(<span class="string">"Receive from %s:%s"</span> % addr)</span><br><span class="line">    print(data)</span><br><span class="line">    <span class="keyword">if</span> data == <span class="string">b"exit"</span>:</span><br><span class="line">        s.sendto(<span class="string">b"Good bye!\n"</span>, addr)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    s.sendto(<span class="string">b"Hello %s!\n"</span> % data, addr)</span><br></pre></td></tr></table></figure><h3 id="UDP-client"><a href="#UDP-client" class="headerlink" title="UDP client"></a>UDP client</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> </span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line">addr = (<span class="string">"127.0.0.1"</span>, <span class="number">6000</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data = input(<span class="string">"Please input your name: "</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    s.sendto(data.encode(), addr)</span><br><span class="line">    response, addr = s.recvfrom(<span class="number">1024</span>) <span class="comment"># 收到的是个元组</span></span><br><span class="line">    print(response.decode())</span><br><span class="line">    <span class="keyword">if</span> data == <span class="string">"exit"</span>:</span><br><span class="line">        print(<span class="string">"Session is over from the server %s:%s\n"</span> % addr)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"> </span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure><hr><h2 id="SocketServer类"><a href="#SocketServer类" class="headerlink" title="SocketServer类"></a>SocketServer类</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ForkingUDPServer</span><span class="params">(ForkingMixIn, UDPServer)</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ForkingTCPServer</span><span class="params">(ForkingMixIn, TCPServer)</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ThreadingUDPServer</span><span class="params">(ThreadingMixIn, UDPServer)</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ThreadingTCPServer</span><span class="params">(ThreadingMixIn, TCPServer)</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ThreadingUnixStreamServer</span><span class="params">(ThreadingMixIn, UnixStreamServer)</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ThreadingUnixDatagramServer</span><span class="params">(ThreadingMixIn, UnixDatagramServer)</span></span></span><br></pre></td></tr></table></figure><h3 id="socketserver-TCP-Server"><a href="#socketserver-TCP-Server" class="headerlink" title="socketserver TCP Server"></a>socketserver TCP Server</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socketserver</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTcpHandler</span><span class="params">(socketserver.BaseRequestHandler)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                data = self.request.recv(<span class="number">1024</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> data: <span class="keyword">break</span>  <span class="comment"># 此行代码针对linux系统</span></span><br><span class="line">                self.request.send(data.upper())</span><br><span class="line">                print(data)</span><br><span class="line">            <span class="keyword">except</span> ConnectionResetError:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        self.request.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    server = socketserver.ThreadingTCPServer((<span class="string">'0.0.0.0'</span>, <span class="number">8180</span>), MyTcpHandler)</span><br><span class="line">    server.serve_forever()</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="comment">### socketserver TCP Client</span></span><br><span class="line">```py</span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> os ,time</span><br><span class="line"></span><br><span class="line">client = socket(AF_INET, SOCK_STREAM)</span><br><span class="line">client.connect((<span class="string">'118.24.137.128'</span>, <span class="number">8180</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    msg = <span class="string">'%s hello'</span> % os.getpid()</span><br><span class="line">    client.send(msg.encode(<span class="string">"utf-8"</span>))</span><br><span class="line">    data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    print(data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h3 id="socketserver-UDP-Server"><a href="#socketserver-UDP-Server" class="headerlink" title="socketserver UDP Server"></a>socketserver UDP Server</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> socketserver</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUdpHandler</span><span class="params">(socketserver.BaseRequestHandler)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle</span><span class="params">(self)</span>:</span></span><br><span class="line">        res=self.request[<span class="number">0</span>]</span><br><span class="line">        print(<span class="string">'客户端发来的数据：'</span>,res)</span><br><span class="line"> </span><br><span class="line">        self.request[<span class="number">1</span>].sendto(res.upper(),self.client_address)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    server=socketserver.ThreadingUDPServer((<span class="string">'0.0.0.0'</span>,<span class="number">8888</span>),MyUdpHandler)</span><br><span class="line">    server.serve_forever()</span><br></pre></td></tr></table></figure><h3 id="socketserver-UDP-Client"><a href="#socketserver-UDP-Client" class="headerlink" title="socketserver UDP Client"></a>socketserver UDP Client</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> os, time</span><br><span class="line"></span><br><span class="line">client = socket(AF_INET, SOCK_DGRAM)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    msg = <span class="string">'%s hello'</span> % os.getpid()</span><br><span class="line">    client.sendto(msg.encode(<span class="string">'utf-8'</span>), (<span class="string">'118.24.137.128'</span>, <span class="number">8888</span>))</span><br><span class="line">    data, server_addr = client.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    print(data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a><strong>END</strong></h2><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul><li>python3学习笔记 图书馆TP311.561 143：1</li><li><a href="http://www.runoob.com/python3/python3-tutorial.html" target="_blank" rel="noopener">网页: 菜鸟教程 – 学习python3</a></li></ul><h2 id="一些零碎代码"><a href="#一些零碎代码" class="headerlink" title="一些零碎代码"></a>一些零碎代码</h2><h3 id="UART-py"><a href="#UART-py" class="headerlink" title="UART py"></a>UART py</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*</span></span><br><span class="line"><span class="keyword">import</span> serial</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 打开串口</span></span><br><span class="line">ser = serial.Serial(<span class="string">"/dev/ttyUSB0"</span>, <span class="number">115200</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 获得接收缓冲区字符</span></span><br><span class="line">        count = ser.inWaiting()</span><br><span class="line">        <span class="keyword">if</span> count != <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># 读取内容并回显</span></span><br><span class="line">            recv = ser.read(count)</span><br><span class="line">            print(recv)</span><br><span class="line">            <span class="comment">#ser.write(recv)</span></span><br><span class="line">        <span class="comment"># 清空接收缓冲区</span></span><br><span class="line">        ser.flushInput()</span><br><span class="line">        <span class="comment"># 必要的软件延时</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="keyword">if</span> ser != <span class="literal">None</span>:</span><br><span class="line">            ser.close()</span><br></pre></td></tr></table></figure><div id="reward-btn">打赏</div></div><div class="declare"><ul class="post-copyright"><li><i class="ri-copyright-line"></i> <strong>版权声明： </strong>本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！</li></ul></div><footer class="article-footer"><div class="share-btn"><span class="share-sns share-outer"><i class="ri-share-forward-line"></i> 分享</span><div class="share-wrap"><i class="arrow"></i><div class="share-icons"><a class="weibo share-sns" href="javascript:;" data-type="weibo"><i class="ri-weibo-fill"></i> </a><a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin"><i class="ri-wechat-fill"></i> </a><a class="qq share-sns" href="javascript:;" data-type="qq"><i class="ri-qq-fill"></i> </a><a class="douban share-sns" href="javascript:;" data-type="douban"><i class="ri-douban-line"></i> </a><a class="facebook share-sns" href="javascript:;" data-type="facebook"><i class="ri-facebook-circle-fill"></i> </a><a class="twitter share-sns" href="javascript:;" data-type="twitter"><i class="ri-twitter-fill"></i> </a><a class="google share-sns" href="javascript:;" data-type="google"><i class="ri-google-fill"></i></a></div></div></div><div class="wx-share-modal"><a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://miss-fortunes.github.io/2020/08/25/python/2.python%E9%AB%98%E7%BA%A7/" alt="微信分享二维码"></div></div><div id="share-mask"></div><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul></footer></div><nav class="article-nav"><a href="/2020/08/25/python/1.python%E5%9F%BA%E7%A1%80/" class="article-nav-link"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">Python基础</div></a></nav><div id="vcomments-box"><div id="vcomments"></div></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
    el: "#vcomments",
    app_id: "itdJK0654VogarMqavTsDNuH-gzGzoHsz",
    app_key: "RXTxlizReAgBP7QTGzk04lt5",
    path: window.location.pathname,
    avatar: "wavatar",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
    // 设置Bilibili表情包地址
    emojiCDN: 'https://cdn.jsdelivr.net/gh/XXXZhy/Blog_Image/valine_emoticon/',
    // 表情title和图片映射
    emojiMaps: {
      "墙角滑稽":"害怕滑稽.gif",
      "仙女下凡":"仙女下凡.webp",
      "听歌":"听歌.webp",
      "嫌弃":"嫌弃.webp",
      "害羞":"害羞.webp",
      "彩虹滑稽":"彩虹滑稽.webp",
      "快走":"快走.webp",
      "流汗":"流汗.webp",
      "滑滑板":"滑滑板.webp",
      "点赞":"点赞.webp",
      "转圈圈":"转圈圈.webp",
      "扯脸":"扯脸.webp",
      "摸脸":"摸脸.webp",
      "彩虹马":"彩虹马.gif",
      "光波":"光波.gif",
      "泡脚":"泡脚.gif",
      "跑跑":"跑跑.gif",
      "滚地":"滚地.gif",
      "群摆头":"群摆头.gif",
      "绿呲溜":"绿呲溜.gif",
      "掉头发":"掉头发.gif",
      "滚地":"滚地.gif",
      "手舞足蹈":"手舞足蹈.gif",
      "厕所g1":"厕所 (1).gif",
      "厕所g2":"厕所 (2).gif",
      "厕所g3":"厕所 (3).gif",
      "咸鱼.gif":"咸鱼.gif",
      "奏乐g1":"奏乐 (1).gif",
      "奏乐g2":"奏乐 (2).gif",
      "奏乐g3":"奏乐 (3).gif",
      "奏乐g4":"奏乐 (4).gif",
      "奏乐g5":"奏乐 (5).gif",
      "奏乐g6":"奏乐 (6).gif",
      "奏乐g7":"奏乐 (7).gif",
      "奏乐g8":"奏乐 (8).gif",
      "奏乐g9":"奏乐 (9).gif",
      "奏乐g10":"奏乐 (10).gif",
      "奔跑狗g1":"奔跑狗 (1).gif",
      "奔跑狗g2":"奔跑狗 (2).gif",
      "奔跑狗g3":"奔跑狗 (3).gif",
      "奔跑狗g4":"奔跑狗 (4).gif",
      "奔跑狗g5":"奔跑狗 (5).gif",
      "小兔吃东西g1":"小兔吃东西 (1).gif",
      "小兔吃东西g10":"小兔吃东西 (10).gif",
      "小兔吃东西g11":"小兔吃东西 (11).gif",
      "小兔吃东西g12":"小兔吃东西 (12).gif",
      "小兔吃东西g13":"小兔吃东西 (13).gif",
      "小兔吃东西g14":"小兔吃东西 (14).gif",
      "小兔吃东西g15":"小兔吃东西 (15).gif",
      "小兔吃东西g16":"小兔吃东西 (16).gif",
      "小兔吃东西g17":"小兔吃东西 (17).gif",
      "小兔吃东西g18":"小兔吃东西 (18).gif",
      "小兔吃东西g19":"小兔吃东西 (19).gif",
      "小兔吃东西g20":"小兔吃东西 (20).gif",
      "小兔吃东西g21":"小兔吃东西 (21).gif",
      "小兔吃东西g22":"小兔吃东西 (22).gif",
      "小兔吃东西g9":"小兔吃东西 (9).gif",
      "小疯子g1":"小疯子 (1).gif",
      "小疯子g2":"小疯子 (2).gif",
      "小疯子g3":"小疯子 (3).gif",
      "小疯子g4":"小疯子 (4).gif",
      "小疯子g5":"小疯子 (5).gif",
      "小疯子g6":"小疯子 (6).gif",
      "小疯子g7":"小疯子 (7).gif",
      "小疯子g8":"小疯子 (8).gif",
      "小疯子g9":"小疯子 (9).gif",
      "扇子狗.gif":"扇子狗.gif",
      "抓g1":"抓 (1).gif",
      "抓g2":"抓 (2).gif",
      "掐脖子.gif":"掐脖子.gif",
      "滑稽g1":"滑稽 (1).gif",
      "滑稽g2":"滑稽 (2).gif",
      "滑稽g3":"滑稽 (3).gif",
      "滑稽g4":"滑稽 (4).gif",
      "猫猫g1":"猫猫.gif",
      "猫猫g2":"猫猫2.gif",
      "脚搐.gif":"脚搐.gif",
      "萌g1":"萌 (1).gif",
      "萌g2":"萌 (2).gif",
      "萌g3":"萌 (3).gif",
      "萌g4":"萌 (4).gif",
      "萌g5":"萌 (5).gif",
      "萌6.gif":"萌6.gif",
      "跪坐g1":"跪坐 (1).gif",
      "跪坐g2":"跪坐 (2).gif",
      "鹦鹉小恐龙g1":"鹦鹉小恐龙 (1).gif",
      "鹦鹉小恐龙g2":"鹦鹉小恐龙 (2).gif",
      "小人儿g1":"小人儿 (1).gif",
      "小人儿g2":"小人儿 (2).gif",
      "小人儿g3":"小人儿 (3).gif",
      "小人儿g4":"小人儿 (4).gif",
      "小人儿g5":"小人儿 (5).gif",
      "小人儿g6":"小人儿 (6).gif",
      "小人儿g7":"小人儿 (7).gif",
      "小人儿g8":"小人儿 (8).gif",
      "小人儿g9":"小人儿 (9).gif",
      "小人儿g10":"小人儿 (10).gif",
      "小人儿g11":"小人儿 (11).gif",
      "小人儿g12":"小人儿 (12).gif",
      "小人儿g13":"小人儿 (13).gif",
      "小人儿g14":"小人儿 (14).gif",
      "小人儿g15":"小人儿 (15).gif",
      "小人儿g16":"小人儿 (16).gif",
      "小人儿g17":"小人儿 (17).gif",
      "小人儿g18":"小人儿 (18).gif",
      "光头小人g1":"光头小人 (1).gif",
      "光头小人g2":"光头小人 (19).gif",
      "光头小人g3":"光头小人 (20).gif",
      "光头小人g4":"光头小人 (21).gif",
      "光头小人g5":"光头小人 (22).gif",
      "光头小人g6":"光头小人 (23).gif",
      "光头小人g7":"光头小人 (24).gif",
      "光头小人g8":"光头小人 (25).gif",
      "光头小人g9":"光头小人 (26).gif",
      "光头小人g10":"光头小人 (27).gif",
      "光头小人g11":"光头小人 (28).gif",
      "光头小人g12":"光头小人 (29).gif",
      "光头小人g13":"光头小人 (30).gif",
      "光头小人g14":"光头小人 (31).gif",
      "光头小人g15":"光头小人 (32).gif",
      "光头小人g16":"光头小人 (33).gif",
      "光头小人g17":"光头小人 (34).gif",
      "光头小人g18":"光头小人 (35).gif",
      "光头小人g19":"光头小人 (36).gif",
      "光头小人g20":"光头小人 (37).gif",
      "小人儿1p":"小人儿 (1).png",
      "小人儿2p":"小人儿 (2).png",
      "小人儿3p":"小人儿 (3).png",
      "小人儿4p":"小人儿 (4).png",
      "小人儿5p":"小人儿 (5).png",
      "小人儿6p":"小人儿 (6).png",
      "小人儿7p":"小人儿 (7).png",
      "小人儿8p":"小人儿 (8).png",
      "小人儿9p":"小人儿 (9).png",
      "小人儿10p":"小人儿 (10).png",
      "小人儿11p":"小人儿 (11).png",
      "小人儿12p":"小人儿 (12).png",
      "小人儿13p":"小人儿 (13).png",
      "小人儿14p":"小人儿 (14).png",
      "小人儿15p":"小人儿 (15).png",
      "小人儿16p":"小人儿 (16).png",
      "小人儿17p":"小人儿 (17).png",
      "小人儿18p":"小人儿 (18).png",
      "小人儿19p":"小人儿 (19).png",
      "小人儿20p":"小人儿 (20).png",
      "小人儿21p":"小人儿 (21).png",
      "小人儿22p":"小人儿 (22).png",
      "小人儿23p":"小人儿 (23).png",
      "小人儿24p":"小人儿 (24).png",
      "小人儿25p":"小人儿 (25).png",
      "小人儿26p":"小人儿 (26).png",
      "小人儿27p":"小人儿 (27).png",
      "小人儿28p":"小人儿 (28).png",
      "小人儿29p":"小人儿 (29).png",
      "小人儿30p":"小人儿 (30).png",
      "小人儿31p":"小人儿 (31).png",
      "小人儿32p":"小人儿 (32).png",
      "小人儿33p":"小人儿 (33).png",
      "小人儿34p":"小人儿 (34).png",
      "小人儿35p":"小人儿 (35).png",
      "不愧是你":"bukuishini.jpg",
      "滑稽":"icon_huaji.png",
      "daizhi":"daizhi.jpg",
      "djxbz":"djxbz.jpg",
      "gan":"gan.jpg",
      "gwyzyg":"gwyzyg.webp",
      "hp":"hp.jpg",
      "huaiyi":"huaiyi.jpg",
      "imgcao":"imgcao.jpg",
      "imghua":"imghua.jpg",
      "imgri":"imgri.jpg",
      "imgye":"imgye.jpg",
      "mudenggoudai":"mudenggoudai.jpg",
      "pc":"pc.jpg",
      "tlspg":"tlspg.jpg",
      "tql":"tql.jpg",
      "tv_doge":"tv_doge.png",
      "tv_亲亲":"tv_亲亲.png",
      "tv_偷笑":"tv_偷笑.png",
      "tv_再见":"tv_再见.png",
      "tv_冷漠":"tv_冷漠.png",
      "tv_发怒":"tv_发怒.png",
      "tv_发财":"tv_发财.png",
      "tv_可爱":"tv_可爱.png",
      "tv_吐血":"tv_吐血.png",
      "tv_呆":"tv_呆.png",
      "tv_呕吐":"tv_呕吐.png",
      "tv_困":"tv_困.png",
      "tv_坏笑":"tv_坏笑.png",
      "tv_大佬":"tv_大佬.png",
      "tv_大哭":"tv_大哭.png",
      "tv_委屈":"tv_委屈.png",
      "tv_害羞":"tv_害羞.png",
      "tv_尴尬":"tv_尴尬.png",
      "tv_微笑":"tv_微笑.png",
      "tv_思考":"tv_思考.png",
      "tv_惊吓":"tv_惊吓.png",
      "tv_打脸":"tv_打脸.png",
      "tv_抓狂":"tv_抓狂.png",
      "tv_抠鼻":"tv_抠鼻.png",
      "tv_斜眼笑":"tv_斜眼笑.png",
      "tv_无奈":"tv_无奈.png",
      "tv_晕":"tv_晕.png",
      "tv_流汗":"tv_流汗.png",
      "tv_流泪":"tv_流泪.png",
      "tv_流鼻血":"tv_流鼻血.png",
      "tv_点赞":"tv_点赞.png",
      "tv_生气":"tv_生气.png",
      "tv_生病":"tv_生病.png",
      "tv_疑问":"tv_疑问.png",
      "tv_白眼":"tv_白眼.png",
      "tv_皱眉":"tv_皱眉.png",
      "tv_目瞪口呆":"tv_目瞪口呆.png",
      "tv_睡着":"tv_睡着.png",
      "tv_笑哭":"tv_笑哭.png",
      "tv_腼腆":"tv_腼腆.png",
      "tv_色":"tv_色.png",
      "tv_调侃":"tv_调侃.png",
      "tv_调皮":"tv_调皮.png",
      "tv_鄙视":"tv_鄙视.png",
      "tv_闭嘴":"tv_闭嘴.png",
      "tv_难过":"tv_难过.png",
      "tv_馋":"tv_馋.png",
      "tv_鬼脸":"tv_鬼脸.png",
      "tv_黑人问号":"tv_黑人问号.png",
      "tv_鼓掌":"tv_鼓掌.png",
      "wuyu":"wuyu.jpg",
      "zzxbz":"zzxbz.jpg",
      "aru_1":"1.png",
      "aru_2":"2.png",
      "aru_3":"3.png",
      "aru_4":"4.png",
      "aru_5":"5.png",
      "aru_6":"6.png",
      "aru_7":"7.png",
      "aru_8":"8.png",
      "aru_9":"9.png",
      "aru_10":"10.png",
      "aru_11":"11.png",
      "aru_12":"12.png",
      "aru_13":"13.png",
      "aru_14":"14.png",
      "aru_15":"15.png",
      "aru_16":"16.png",
      "aru_17":"17.png",
      "aru_18":"18.png",
      "aru_19":"19.png",
      "aru_20":"20.png",
      "aru_21":"21.png",
      "aru_22":"22.png",
      "aru_23":"23.png",
      "aru_24":"24.png",
      "aru_25":"25.png",
      "aru_26":"26.png",
      "aru_27":"27.png",
      "aru_28":"28.png",
      "aru_29":"29.png",
      "aru_30":"30.png",
      "aru_31":"31.png",
      "aru_32":"32.png",
      "aru_33":"33.png",
      "aru_34":"34.png",
      "aru_35":"35.png",
      "aru_36":"36.png",
      "aru_37":"37.png",
      "aru_38":"38.png",
      "aru_39":"39.png",
      "aru_40":"40.png",
      "aru_41":"41.png",
      "aru_42":"42.png",
      "aru_43":"43.png",
      "aru_44":"44.png",
      "aru_45":"45.png",
      "aru_46":"46.png",
      "aru_47":"47.png",
      "aru_48":"48.png",
      "aru_49":"49.png",
      "aru_50":"50.png",
      "aru_51":"51.png",
      "aru_52":"52.png",
      "aru_53":"53.png",
      "aru_54":"54.png",
      "aru_55":"55.png",
      "aru_56":"56.png",
      "aru_57":"57.png",
      "aru_58":"58.png",
      "aru_59":"59.png",
      "aru_60":"60.png",
      "aru_61":"61.png",
      "aru_62":"62.png",
      "aru_63":"63.png",
      "aru_64":"64.png",
      "aru_65":"65.png",
      "aru_66":"66.png",
      "aru_67":"67.png",
      "aru_68":"68.png",
      "aru_69":"69.png",
      "aru_70":"70.png",
      "aru_71":"71.png",
      "aru_72":"72.png",
      "aru_73":"73.png",
      "aru_74":"74.png",
      "aru_75":"75.png",
      "aru_76":"76.png",
      "aru_77":"77.png",
      "aru_78":"78.png",
      "aru_79":"79.png",
      "aru_80":"80.png",
      "aru_81":"81.png",
      "aru_82":"82.png",
      "aru_83":"83.png",
      "aru_84":"84.png",
      "aru_85":"85.png",
      "aru_86":"86.png",
      "aru_87":"87.png",
      "aru_88":"88.png",
      "aru_89":"89.png",
      "aru_90":"90.png",
      "aru_91":"91.png",
      "aru_92":"92.png",
      "aru_93":"93.png",
      "aru_94":"94.png",
      "aru_95":"95.png",
      "aru_96":"96.png",
      "aru_97":"97.png",
      "aru_98":"98.png",
      "aru_99":"99.png",
      "aru_100":"100.png",
      "aru_101":"101.png",
      "aru_102":"102.png",
      "aru_103":"103.png",
      "aru_104":"104.png",
      "aru_105":"105.png",
      "aru_106":"106.png",
      "aru_107":"107.png",
      "aru_108":"108.png",
      "aru_109":"109.png",
      "aru_110":"110.png",
      "aru_111":"111.png",
      "aru_112":"112.png",
      "aru_113":"113.png",
      "aru_114":"114.png",
      "aru_115":"115.png",
      "aru_116":"116.png",
      "aru_117":"117.png",
      "aru_118":"118.png",
      "aru_119":"119.png",
      "aru_120":"120.png",
      "aru_121":"121.png",
      "aru_122":"122.png",
      "aru_123":"123.png",
      "aru_124":"124.png",
      "aru_125":"125.png",
      "aru_126":"126.png",
      "aru_127":"127.png",
      "aru_128":"128.png",
      "aru_129":"129.png",
      "aru_130":"130.png",
      "aru_131":"131.png",
      "aru_132":"132.png",
      "aru_133":"133.png",
      "aru_134":"134.png",
      "aru_135":"135.png",
      "aru_136":"136.png",
      "aru_137":"137.png",
      "aru_138":"138.png",
      "aru_139":"139.png",
      "aru_140":"140.png",
      "aru_141":"141.png",
      "aru_142":"142.png",
      "aru_143":"143.png",
      "aru_144":"144.png",
      "aru_145":"145.png",
      "aru_146":"146.png",
      "aru_147":"147.png",
      "aru_148":"148.png",
      "aru_149":"149.png",
      "aru_150":"150.png",
      "aru_151":"151.png",
      "aru_152":"152.png",
      "aru_153":"153.png",
      "aru_154":"154.png",
      "aru_155":"155.png",
      "aru_156":"156.png",
      "aru_157":"157.png",
      "aru_158":"158.png",
      "aru_159":"159.png",
      "aru_160":"160.png",
      "aru_161":"161.png",
      "aru_162":"162.png",
      "aru_163":"163.png",
      "aru_164":"164.png",
      "aru_165":"165.png",
      "aru_166":"166.png",
      "aru_167":"167.png",
      "aru_168":"168.png",
      "aru_169":"169.png",
      "aru_170":"170.png",
      "aru_171":"171.png",
      "aru_172":"172.png",
      "aru_173":"173.png",
      "aru_174":"174.png",
      "aru_175":"175.png",
      "aru_176":"176.png",
      "aru_177":"177.png",
      "aru_178":"178.png",
      "aru_179":"179.png",
      "aru_180":"180.png",
      "aru_181":"181.png",
      "aru_182":"182.png",
      "aru_183":"183.png",
      "aru_184":"184.png",
      "aru_185":"185.png",
      "aru_186":"186.png",
      "aru_187":"187.png",
      "aru_188":"188.png",
      "aru_189":"189.png",
      "aru_190":"190.png",
      "aru_191":"191.png",
      "aru_192":"192.png",
      "aru_193":"193.png",
      "aru_194":"194.png",
      "aru_195":"195.png",
      "aru_196":"196.png",
      "aru_197":"197.png",
      "aru_198":"198.png",
      "aru_199":"199.png",
      "aru_200":"200.png",
      "aru_201":"201.png",
      "aru_202":"202.png",
      "aru_203":"203.png",
      "aru_204":"204.png",
      "aru_205":"205.png",
      "aru_206":"206.png",
      "aru_207":"207.png",
      "aru_208":"208.png",
      "aru_209":"209.png",
      "aru_210":"210.png",
      "aru_211":"211.png",
      "aru_212":"212.png",
      "aru_213":"213.png",
      "aru_214":"214.png",
      "aru_215":"215.png",
      "aru_216":"216.png",
      "aru_217":"217.png",
      "aru_218":"218.png",
      "aru_219":"219.png",
      "aru_220":"220.png",
      "aru_221":"221.png",
      "aru_222":"222.png",
      "aru_223":"223.png",
      "aru_224":"224.png",
      "aru_225":"225.png",
      "aru_226":"226.png",
      "aru_227":"227.png",
      "aru_228":"228.png",
      "aru_229":"229.png",
      "aru_230":"230.png",
      "aru_231":"231.png",
      "aru_232":"232.png",
      "aru_233":"233.png",
      "aru_234":"234.png",
      "aru_235":"235.png",
      "aru_236":"236.png",
      "aru_237":"237.png",
      "aru_238":"238.png",
      "aru_239":"239.png",
      "aru_240":"240.png",
      "aru_241":"241.png",
      "aru_242":"242.png",
      "aru_243":"243.png",
      "aru_244":"244.png",
      "aru_245":"245.png",
      "aru_246":"246.png",
      "aru_247":"247.png",
      "aru_248":"248.png",
      "aru_249":"249.png",
      "aru_250":"250.png",
      "aru_251":"251.png",
      "aru_252":"252.png",
      "aru_253"	:"253.png",
      "aru_254":"254.png",
      "aru_255":"255.png",
      "aru_256":"256.png",
      "aru_257":"257.png",
      "aru_258":"258.png",
      "aru_259":"259.png",
      "aru_260":"260.png",
      "aru_261":"261.png",
      "aru_262":"262.png",
      "aru_263":"263.png",
      "aru_264":"264.png",
      "aru_265":"265.png",
      "aru_266":"266.png",
      "aru_267":"267.png",
      "aru_268":"268.png",
      "aru_269":"269.png",
      "aru_270":"270.png",
      "aru_271":"271.png",
      "aru_272":"272.png",
      "aru_273":"273.png",
      "aru_274":"274.png",
      "aru_275":"275.png",
      "aru_276":"276.png",
      "aru_277":"277.png",
      "aru_278":"278.png",
      "aru_279":"279.png",
      "aru_280":"280.png",
      "aru_281":"281.png",
      "aru_282":"282.png",
      "aru_283":"283.png",
      "aru_284":"284.png",
      "aru_285":"285.png",
      "aru_286":"286.png",
      "aru_287":"287.png",
      "aru_288":"288.png",
      "aru_289":"289.png",
      "aru_290":"290.png",
      "aru_291":"291.png",
      "aru_292":"292.png",
      "aru_293":"293.png",
      "aru_294":"294.png",
      "aru_295":"295.png",
      "aru_296":"296.png",
      "aru_297":"297.png",
      "aru_298":"298.png",
      "aru_299":"299.png",
      "aru_300":"300.png",
      "aru_301":"301.png",
      "aru_302":"302.png",
      "aru_303":"303.png",
      "aru_304":"304.png",
      "aru_305":"305.png",
      "aru_306":"306.png",
    }     
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }</script><style>#veditor{min-height:10rem;background-image:url(https://gitee.com/cungudafa/source/raw/master/img/gif/katon/pinkcoolpig.gif);background-size:contain;background-repeat:no-repeat;background-position:right;background-color:rgba(255,255,255,0);resize:none}#vcomments-box{padding:5px 30px}@media screen and (max-width:800px){#vcomments-box{padding:5px 0}}#vcomments-box #vcomments{background-color:#fff}.v .vlist .vcard .vh{padding-right:20px}.v .vlist .vcard{padding-left:10px}</style></article></section><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wsqstar/ResHosting@0.031/build/js/Sakura.js"></script><footer class="footer"><div class="outer"><ul><li><span id="runtime_span"></span></li></ul><script type="text/javascript">function show_runtime(){window.setTimeout("show_runtime()",1e3),X=new Date("6/09/2020 13:14:21"),Y=new Date,T=Y.getTime()-X.getTime(),M=864e5,a=T/M,A=Math.floor(a),b=24*(a-A),B=Math.floor(b),c=60*(b-B),C=Math.floor(60*(b-B)),D=Math.floor(60*(c-C)),runtime_span.innerHTML="小站在各种崩坏中坚持了: "+A+"天"+B+"小时"+C+"分"+D+"秒"}show_runtime()</script><ul><li>Copyrights &copy; 2015-2020 <i class="ri-heart-fill heart_icon"></i> Miss Fortunes | <a href="http://www.beian.miit.gov.cn/" style="color:#403e3e;font-weight:400!important" target="_black">豫ICP备88888888</a></li></ul><ul><li><div class="github-badge"><a style="color:#fff" href="https://hexo.io" target="_blank" title="Hexo强力驱动"><span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank" title="主题Ayer"><span class="badge-subject">Theme</span><span class="badge-value bg-cyan">Ayer</span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="https://www.aliyun.com" target="_blank" title="网站托管于阿里云"><span class="badge-subject">Hosted</span><span class="badge-value bg-red">Aliyun</span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="https://su.baidu.com" target="_blank" title="百度云加速整站"><span class="badge-subject">DNS</span><span class="badge-value bg-blueviolet">Baidu</span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="https://www.jsdelivr.com" target="_blank" title="jsDelivr加速静态"><span class="badge-subject">CDN</span><span class="badge-value bg-orange">jsDelivr</span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="https://console.upyun.com/register/?invite=rkCZBHo38" target="_blank" title="又拍云全站加速"><span class="badge-subject">CDN</span><span class="badge-value bg-black"><img src="https://cdn.jsdelivr.net/gh/XXXZhy/Blog_Image/valine_emoticon/又拍云_logo6.png" width="34px" style="margin:-1.5px auto"></span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="" target="_blank" title="本站访客数"><span class="badge-subject">UV</span><span class="badge-value bg-brightgreen" id="busuanzi_value_site_uv"></span></a></div>&nbsp;<div class="github-badge"><a style="color:#fff" href="" target="_blank" title="本站访问量"><span class="badge-subject">PV</span><span class="badge-value bg-pink" id="busuanzi_value_site_pv"></span></a></div></li></ul></div></footer><div class="float_btns"><style>@media (max-width:1000px){.back-to-top{display:none!important}}@-webkit-keyframes wrench{0%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}8%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}10%{-webkit-transform:rotate(24deg);transform:rotate(24deg)}18%,20%{-webkit-transform:rotate(-24deg);transform:rotate(-24deg)}28%,30%{-webkit-transform:rotate(24deg);transform:rotate(24deg)}38%,40%{-webkit-transform:rotate(-24deg);transform:rotate(-24deg)}48%,50%{-webkit-transform:rotate(24deg);transform:rotate(24deg)}58%,60%{-webkit-transform:rotate(-24deg);transform:rotate(-24deg)}68%{-webkit-transform:rotate(24deg);transform:rotate(24deg)}100%,75%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes wrench{0%{-webkit-transform:rotate(-12deg);-ms-transform:rotate(-12deg);transform:rotate(-12deg)}8%{-webkit-transform:rotate(12deg);-ms-transform:rotate(12deg);transform:rotate(12deg)}10%{-webkit-transform:rotate(24deg);-ms-transform:rotate(24deg);transform:rotate(24deg)}18%,20%{-webkit-transform:rotate(-24deg);-ms-transform:rotate(-24deg);transform:rotate(-24deg)}28%,30%{-webkit-transform:rotate(24deg);-ms-transform:rotate(24deg);transform:rotate(24deg)}38%,40%{-webkit-transform:rotate(-24deg);-ms-transform:rotate(-24deg);transform:rotate(-24deg)}48%,50%{-webkit-transform:rotate(24deg);-ms-transform:rotate(24deg);transform:rotate(24deg)}58%,60%{-webkit-transform:rotate(-24deg);-ms-transform:rotate(-24deg);transform:rotate(-24deg)}68%{-webkit-transform:rotate(24deg);-ms-transform:rotate(24deg);transform:rotate(24deg)}100%,75%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}}.faa-parent.animated-hover:hover>.faa-wrench,.faa-wrench.animated,.faa-wrench.animated-hover:hover{-webkit-animation:wrench 2.5s ease infinite;animation:wrench 2.5s ease infinite;transform-origin-x:90%;transform-origin-y:35%;transform-origin-z:initial}.faa-parent.animated-hover:hover>.faa-wrench.faa-fast,.faa-wrench.animated-hover.faa-fast:hover,.faa-wrench.animated.faa-fast{-webkit-animation:wrench 1.2s ease infinite;animation:wrench 1.2s ease infinite}.faa-parent.animated-hover:hover>.faa-wrench.faa-slow,.faa-wrench.animated-hover.faa-slow:hover,.faa-wrench.animated.faa-slow{-webkit-animation:wrench 3.7s ease infinite;animation:wrench 3.7s ease infinite}@-webkit-keyframes ring{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}2%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}4%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}6%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}8%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}10%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}12%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}14%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}18%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}100%,20%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes ring{0%{-webkit-transform:rotate(-15deg);-ms-transform:rotate(-15deg);transform:rotate(-15deg)}2%{-webkit-transform:rotate(15deg);-ms-transform:rotate(15deg);transform:rotate(15deg)}4%{-webkit-transform:rotate(-18deg);-ms-transform:rotate(-18deg);transform:rotate(-18deg)}6%{-webkit-transform:rotate(18deg);-ms-transform:rotate(18deg);transform:rotate(18deg)}8%{-webkit-transform:rotate(-22deg);-ms-transform:rotate(-22deg);transform:rotate(-22deg)}10%{-webkit-transform:rotate(22deg);-ms-transform:rotate(22deg);transform:rotate(22deg)}12%{-webkit-transform:rotate(-18deg);-ms-transform:rotate(-18deg);transform:rotate(-18deg)}14%{-webkit-transform:rotate(18deg);-ms-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-12deg);-ms-transform:rotate(-12deg);transform:rotate(-12deg)}18%{-webkit-transform:rotate(12deg);-ms-transform:rotate(12deg);transform:rotate(12deg)}100%,20%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}}.faa-parent.animated-hover:hover>.faa-ring,.faa-ring.animated,.faa-ring.animated-hover:hover{-webkit-animation:ring 2s ease infinite;animation:ring 2s ease infinite;transform-origin-x:50%;transform-origin-y:0;transform-origin-z:initial}.faa-parent.animated-hover:hover>.faa-ring.faa-fast,.faa-ring.animated-hover.faa-fast:hover,.faa-ring.animated.faa-fast{-webkit-animation:ring 1s ease infinite;animation:ring 1s ease infinite}.faa-parent.animated-hover:hover>.faa-ring.faa-slow,.faa-ring.animated-hover.faa-slow:hover,.faa-ring.animated.faa-slow{-webkit-animation:ring 3s ease infinite;animation:ring 3s ease infinite}@-webkit-keyframes vertical{0%{-webkit-transform:translate(0,-3px);transform:translate(0,-3px)}4%{-webkit-transform:translate(0,3px);transform:translate(0,3px)}8%{-webkit-transform:translate(0,-3px);transform:translate(0,-3px)}12%{-webkit-transform:translate(0,3px);transform:translate(0,3px)}16%{-webkit-transform:translate(0,-3px);transform:translate(0,-3px)}20%{-webkit-transform:translate(0,3px);transform:translate(0,3px)}100%,22%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes vertical{0%{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px)}4%{-webkit-transform:translate(0,3px);-ms-transform:translate(0,3px);transform:translate(0,3px)}8%{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px)}12%{-webkit-transform:translate(0,3px);-ms-transform:translate(0,3px);transform:translate(0,3px)}16%{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px)}20%{-webkit-transform:translate(0,3px);-ms-transform:translate(0,3px);transform:translate(0,3px)}100%,22%{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}}.faa-parent.animated-hover:hover>.faa-vertical,.faa-vertical.animated,.faa-vertical.animated-hover:hover{-webkit-animation:vertical 2s ease infinite;animation:vertical 2s ease infinite}.faa-parent.animated-hover:hover>.faa-vertical.faa-fast,.faa-vertical.animated-hover.faa-fast:hover,.faa-vertical.animated.faa-fast{-webkit-animation:vertical 1s ease infinite;animation:vertical 1s ease infinite}.faa-parent.animated-hover:hover>.faa-vertical.faa-slow,.faa-vertical.animated-hover.faa-slow:hover,.faa-vertical.animated.faa-slow{-webkit-animation:vertical 4s ease infinite;animation:vertical 4s ease infinite}@-webkit-keyframes horizontal{0%{-webkit-transform:translate(0,0);transform:translate(0,0)}6%{-webkit-transform:translate(5px,0);transform:translate(5px,0)}12%{-webkit-transform:translate(0,0);transform:translate(0,0)}18%{-webkit-transform:translate(5px,0);transform:translate(5px,0)}24%{-webkit-transform:translate(0,0);transform:translate(0,0)}30%{-webkit-transform:translate(5px,0);transform:translate(5px,0)}100%,36%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes horizontal{0%{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}6%{-webkit-transform:translate(5px,0);-ms-transform:translate(5px,0);transform:translate(5px,0)}12%{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}18%{-webkit-transform:translate(5px,0);-ms-transform:translate(5px,0);transform:translate(5px,0)}24%{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}30%{-webkit-transform:translate(5px,0);-ms-transform:translate(5px,0);transform:translate(5px,0)}100%,36%{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}}.faa-horizontal.animated,.faa-horizontal.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-horizontal{-webkit-animation:horizontal 2s ease infinite;animation:horizontal 2s ease infinite}.faa-horizontal.animated-hover.faa-fast:hover,.faa-horizontal.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-horizontal.faa-fast{-webkit-animation:horizontal 1s ease infinite;animation:horizontal 1s ease infinite}.faa-horizontal.animated-hover.faa-slow:hover,.faa-horizontal.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-horizontal.faa-slow{-webkit-animation:horizontal 3s ease infinite;animation:horizontal 3s ease infinite}@-webkit-keyframes flash{0%,100%,50%{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,100%,50%{opacity:1}25%,75%{opacity:0}}.faa-flash.animated,.faa-flash.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-flash{-webkit-animation:flash 2s ease infinite;animation:flash 2s ease infinite}.faa-flash.animated-hover.faa-fast:hover,.faa-flash.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-flash.faa-fast{-webkit-animation:flash 1s ease infinite;animation:flash 1s ease infinite}.faa-flash.animated-hover.faa-slow:hover,.faa-flash.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-flash.faa-slow{-webkit-animation:flash 3s ease infinite;animation:flash 3s ease infinite}@-webkit-keyframes bounce{0%,10%,100%,20%,50%,80%{-webkit-transform:translateY(0);transform:translateY(0)}40%,60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@keyframes bounce{0%,10%,100%,20%,50%,80%{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}40%,60%{-webkit-transform:translateY(-15px);-ms-transform:translateY(-15px);transform:translateY(-15px)}}.faa-bounce.animated,.faa-bounce.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-bounce{-webkit-animation:bounce 2s ease infinite;animation:bounce 2s ease infinite}.faa-bounce.animated-hover.faa-fast:hover,.faa-bounce.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-bounce.faa-fast{-webkit-animation:bounce 1s ease infinite;animation:bounce 1s ease infinite}.faa-bounce.animated-hover.faa-slow:hover,.faa-bounce.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-bounce.faa-slow{-webkit-animation:bounce 3s ease infinite;animation:bounce 3s ease infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.faa-parent.animated-hover:hover>.faa-spin,.faa-spin.animated,.faa-spin.animated-hover:hover{-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite}.faa-parent.animated-hover:hover>.faa-spin.faa-fast,.faa-spin.animated-hover.faa-fast:hover,.faa-spin.animated.faa-fast{-webkit-animation:spin .7s linear infinite;animation:spin .7s linear infinite}.faa-parent.animated-hover:hover>.faa-spin.faa-slow,.faa-spin.animated-hover.faa-slow:hover,.faa-spin.animated.faa-slow{-webkit-animation:spin 2.2s linear infinite;animation:spin 2.2s linear infinite}@-webkit-keyframes float{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-6px);transform:translateY(-6px)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes float{0%{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-6px);-ms-transform:translateY(-6px);transform:translateY(-6px)}100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}}.faa-float.animated,.faa-float.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-float{-webkit-animation:float 2s linear infinite;animation:float 2s linear infinite}.faa-float.animated-hover.faa-fast:hover,.faa-float.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-float.faa-fast{-webkit-animation:float 1s linear infinite;animation:float 1s linear infinite}.faa-float.animated-hover.faa-slow:hover,.faa-float.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-float.faa-slow{-webkit-animation:float 3s linear infinite;animation:float 3s linear infinite}@-webkit-keyframes pulse{0%{-webkit-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(.8);transform:scale(.8)}100%{-webkit-transform:scale(1.1);transform:scale(1.1)}}@keyframes pulse{0%{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(.8);-ms-transform:scale(.8);transform:scale(.8)}100%{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}}.faa-parent.animated-hover:hover>.faa-pulse,.faa-pulse.animated,.faa-pulse.animated-hover:hover{-webkit-animation:pulse 2s linear infinite;animation:pulse 2s linear infinite}.faa-parent.animated-hover:hover>.faa-pulse.faa-fast,.faa-pulse.animated-hover.faa-fast:hover,.faa-pulse.animated.faa-fast{-webkit-animation:pulse 1s linear infinite;animation:pulse 1s linear infinite}.faa-parent.animated-hover:hover>.faa-pulse.faa-slow,.faa-pulse.animated-hover.faa-slow:hover,.faa-pulse.animated.faa-slow{-webkit-animation:pulse 3s linear infinite;animation:pulse 3s linear infinite}.faa-parent.animated-hover:hover>.faa-shake,.faa-shake.animated,.faa-shake.animated-hover:hover{-webkit-animation:wrench 2.5s ease infinite;animation:wrench 2.5s ease infinite}.faa-parent.animated-hover:hover>.faa-shake.faa-fast,.faa-shake.animated-hover.faa-fast:hover,.faa-shake.animated.faa-fast{-webkit-animation:wrench 1.2s ease infinite;animation:wrench 1.2s ease infinite}.faa-parent.animated-hover:hover>.faa-shake.faa-slow,.faa-shake.animated-hover.faa-slow:hover,.faa-shake.animated.faa-slow{-webkit-animation:wrench 3.7s ease infinite;animation:wrench 3.7s ease infinite}@-webkit-keyframes tada{0%{-webkit-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-8deg);transform:scale(.9) rotate(-8deg)}30%,50%,70%{-webkit-transform:scale(1.3) rotate(8deg);transform:scale(1.3) rotate(8deg)}40%,60%{-webkit-transform:scale(1.3) rotate(-8deg);transform:scale(1.3) rotate(-8deg)}100%,80%{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}@keyframes tada{0%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-8deg);-ms-transform:scale(.9) rotate(-8deg);transform:scale(.9) rotate(-8deg)}30%,50%,70%{-webkit-transform:scale(1.3) rotate(8deg);-ms-transform:scale(1.3) rotate(8deg);transform:scale(1.3) rotate(8deg)}40%,60%{-webkit-transform:scale(1.3) rotate(-8deg);-ms-transform:scale(1.3) rotate(-8deg);transform:scale(1.3) rotate(-8deg)}100%,80%{-webkit-transform:scale(1) rotate(0);-ms-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}.faa-parent.animated-hover:hover>.faa-tada,.faa-tada.animated,.faa-tada.animated-hover:hover{-webkit-animation:tada 2s linear infinite;animation:tada 2s linear infinite}.faa-parent.animated-hover:hover>.faa-tada.faa-fast,.faa-tada.animated-hover.faa-fast:hover,.faa-tada.animated.faa-fast{-webkit-animation:tada 1s linear infinite;animation:tada 1s linear infinite}.faa-parent.animated-hover:hover>.faa-tada.faa-slow,.faa-tada.animated-hover.faa-slow:hover,.faa-tada.animated.faa-slow{-webkit-animation:tada 3s linear infinite;animation:tada 3s linear infinite}@-webkit-keyframes passing{0%{-webkit-transform:translateX(-50%);transform:translateX(-50%);opacity:0}50%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}100%{-webkit-transform:translateX(50%);transform:translateX(50%);opacity:0}}@keyframes passing{0%{-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);opacity:0}50%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1}100%{-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);opacity:0}}.faa-parent.animated-hover:hover>.faa-passing,.faa-passing.animated,.faa-passing.animated-hover:hover{-webkit-animation:passing 2s linear infinite;animation:passing 2s linear infinite}.faa-parent.animated-hover:hover>.faa-passing.faa-fast,.faa-passing.animated-hover.faa-fast:hover,.faa-passing.animated.faa-fast{-webkit-animation:passing 1s linear infinite;animation:passing 1s linear infinite}.faa-parent.animated-hover:hover>.faa-passing.faa-slow,.faa-passing.animated-hover.faa-slow:hover,.faa-passing.animated.faa-slow{-webkit-animation:passing 3s linear infinite;animation:passing 3s linear infinite}@-webkit-keyframes passing-reverse{0%{-webkit-transform:translateX(50%);transform:translateX(50%);opacity:0}50%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}100%{-webkit-transform:translateX(-50%);transform:translateX(-50%);opacity:0}}@keyframes passing-reverse{0%{-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);opacity:0}50%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1}100%{-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);opacity:0}}.faa-parent.animated-hover:hover>.faa-passing-reverse,.faa-passing-reverse.animated,.faa-passing-reverse.animated-hover:hover{-webkit-animation:passing-reverse 2s linear infinite;animation:passing-reverse 2s linear infinite}.faa-parent.animated-hover:hover>.faa-passing-reverse.faa-fast,.faa-passing-reverse.animated-hover.faa-fast:hover,.faa-passing-reverse.animated.faa-fast{-webkit-animation:passing-reverse 1s linear infinite;animation:passing-reverse 1s linear infinite}.faa-parent.animated-hover:hover>.faa-passing-reverse.faa-slow,.faa-passing-reverse.animated-hover.faa-slow:hover,.faa-passing-reverse.animated.faa-slow{-webkit-animation:passing-reverse 3s linear infinite;animation:passing-reverse 3s linear infinite}@-webkit-keyframes burst{0%{opacity:.6}50%{-webkit-transform:scale(1.8);transform:scale(1.8);opacity:0}100%{opacity:0}}@keyframes burst{0%{opacity:.6}50%{-webkit-transform:scale(1.8);-ms-transform:scale(1.8);transform:scale(1.8);opacity:0}100%{opacity:0}}.faa-burst.animated,.faa-burst.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-burst{-webkit-animation:burst 2s infinite linear;animation:burst 2s infinite linear}.faa-burst.animated-hover.faa-fast:hover,.faa-burst.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-burst.faa-fast{-webkit-animation:burst 1s infinite linear;animation:burst 1s infinite linear}.faa-burst.animated-hover.faa-slow:hover,.faa-burst.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-burst.faa-slow{-webkit-animation:burst 3s infinite linear;animation:burst 3s infinite linear}@-webkit-keyframes falling{0%{-webkit-transform:translateY(-50%);transform:translateY(-50%);opacity:0}50%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(50%);transform:translateY(50%);opacity:0}}@keyframes falling{0%{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);opacity:0}50%{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);opacity:0}}.faa-falling.animated,.faa-falling.animated-hover:hover,.faa-parent.animated-hover:hover>.faa-falling{-webkit-animation:falling 2s linear infinite;animation:falling 2s linear infinite}.faa-falling.animated-hover.faa-fast:hover,.faa-falling.animated.faa-fast,.faa-parent.animated-hover:hover>.faa-falling.faa-fast{-webkit-animation:falling 1s linear infinite;animation:falling 1s linear infinite}.faa-falling.animated-hover.faa-slow:hover,.faa-falling.animated.faa-slow,.faa-parent.animated-hover:hover>.faa-falling.faa-slow{-webkit-animation:falling 3s linear infinite;animation:falling 3s linear infinite}.topButton{display:none!important}#goToTop{display:none!important}.back-to-top{position:fixed;top:-900px;right:110px;z-index:2;width:70px;height:900px;background:url(/static/images/scroll.png);opacity:1;cursor:pointer;transition:all .5s ease-in-out}</style><div class="back-to-top cd-top faa-float animated cd-is-visible" style="top:-999px"></div><script>$(function(){$(".content").scroll(function(){500<$(".content").scrollTop()?$(".back-to-top").css("top","-200px"):$(".back-to-top").css("top","-999px")}),$(".back-to-top").click(function(){$(".content").animate({scrollTop:0},600)})})</script></div></main><aside class="sidebar on"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="/images/ayer.svg" alt="Miss-Fortune"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">主页</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">归档</a></li><li class="nav-item"><a class="nav-item-link" href="/categories">分类</a></li><li class="nav-item"><a class="nav-item-link" href="/tags">标签</a></li><li class="nav-item"><a class="nav-item-link" href="/shuoshuo">说说</a></li><li class="nav-item"><a class="nav-item-link" href="/video">视频</a></li><li class="nav-item"><a class="nav-item-link" href="/analytics">统计</a></li><li class="nav-item"><a class="nav-item-link" href="/introduce">介绍</a></li><li class="nav-item"><a class="nav-item-link" href="/about">关于我</a></li><li class="nav-item"><a class="nav-item-link" href="/dinosaur">小恐龙</a></li><li class="nav-item"><a class="nav-item-link" href="/friendsLink">友情链接</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><a class="nav-item-link nav-item-search" title="搜索"><i class="ri-search-line"></i> </a><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed"><i class="ri-rss-line"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><script>window.matchMedia("(max-width: 768px)").matches&&(document.querySelector(".content").classList.remove("on"),document.querySelector(".sidebar").classList.remove("on"))</script><div id="mask"></div><div id="reward"><span class="close"><i class="ri-close-line"></i></span><p class="reward-p"><i class="ri-cup-line"></i>下次一定~</p><div class="reward-box"><div class="reward-item"><img class="reward-img" src="/static/images/zfb.png"> <span class="reward-type">支付宝</span></div><div class="reward-item"><img class="reward-img" src="/static/images/wx.png"> <span class="reward-type">微信</span></div></div></div><script src="/js/jquery-2.0.3.min.js"></script><script src="/js/lazyload.min.js"></script><script>try{var typed=new Typed("#subtitle",{strings:["面朝大海，春暖花开","愿你一生努力，一生被爱","想要的都拥有，得不到的都释怀"],startDelay:0,typeSpeed:200,loop:!0,backSpeed:100,showCursor:!0})}catch(e){console.log(e)}</script><script src="/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,scrollContainer:"main",positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script><script src="/dist/main.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"><script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script><script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script><script>function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()</script><script src="/js/busuanzi-2.3.pure.min.js"></script><link rel="stylesheet" href="/css/clipboard.css"><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/miku.model.json"},display:{position:"right",width:150,height:300,hOffset:0,vOffset:0},mobile:{show:!0},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body>